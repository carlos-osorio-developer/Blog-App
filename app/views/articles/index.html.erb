<div class="container-fluid">
  <h1>Articles</h1>

  <div class="alert alert-primary" role="alert">
    Our blog has <%= Article.public_count %> articles and counting!
  </div>

  <%= link_to "New Article", new_article_path, class: "btn btn-outline-primary", role: "button" %>
  <br>
  <br>

  <% count = 0 %>
  <% until count == Article.all.length do %>
    <% if count%3 == 0 %>
    <div class="row">
    <% end %>
      <div class="col-sm-4">
        <div class="card">
          <div class="card-body">
          <% article = Article.all[count] %>
            <h5 class="card-title"><%= article.title %></h5>
            <p class="card-text"><%= article.body[(0..20)]+"..." %></p>
            <p>
            <% article.tags.each do |tag| %>  
              <%= link_to tag.name, tag_path(tag), class: "badge bg-secondary text-decoration-none" %>
            <% end %>
            </p>
            <%= link_to "Go to Article", article, class: "btn btn-primary", role: "button" %>
          </div>
        </div>
      </div>
    <% if count%3 == 2 %>
    </div>
    <br>
    <% end %>
    <% count += 1 %>
  <% end %>
</div>
<br>
<br>